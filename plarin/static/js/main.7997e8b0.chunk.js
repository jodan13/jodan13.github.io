(this.webpackJsonpmobx=this.webpackJsonpmobx||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),i=n(4),a=n.n(i),c=(n(15),n(10)),o=n(3),u=n(6),l=n.n(u),d=n(7),h=n(8),j=n(9),f=n(2),m=new(function(){function e(){Object(h.a)(this,e),this.users=[],this.totalItems=0,this.currentPage=1,this.perPage=0,this.totalPages=0,this.itemUser={avatar:"",first_name:"",last_name:"",email:""},this.modalEditUser=!1,Object(f.d)(this),this.getUserListByPage()}return Object(j.a)(e,[{key:"addUser",value:function(){var e=this;fetch("https://reqres.in/api/users",{method:"POST",body:JSON.stringify(this.itemUser),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){Object(f.g)((function(){e.currentPage<=2&&(e.users=[],e.currentPage=e.totalPages+1,e.totalPages=e.totalPages+1),e.users.push(t)}))}))}},{key:"removeUser",value:function(){var e=this;fetch("https://reqres.in/api/users/".concat(this.itemUser.id),{method:"DELETE"}).then((function(){Object(f.g)((function(){e.users=e.users.filter((function(t){return t.id!==e.itemUser.id}))}))}))}},{key:"editUser",value:function(e,t){this.itemUser[e]=t}},{key:"updateUser",value:function(){var e=this;fetch("https://reqres.in/api/users/".concat(this.itemUser.id),{method:"PUT",body:JSON.stringify(this.itemUser),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var n=e.users.findIndex((function(t){return t.id===e.itemUser.id}));Object(f.g)((function(){-1!==n&&(e.users[n]=t)}))}))}},{key:"getUser",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,s,r,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/users/".concat(t));case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:s=e.sent,Object(f.g)((function(){i.itemUser=s.data})),e.next=12;break;case 10:r=this.users.findIndex((function(e){return e.id===t})),Object(f.g)((function(){-1!==r&&(i.itemUser=i.users[r])}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"newUser",value:function(){this.itemUser={avatar:"",first_name:"",last_name:"",email:""}}},{key:"changePage",value:function(e){this.currentPage=e,this.getUserListByPage()}},{key:"getUserListByPage",value:function(){var e=this;fetch("https://reqres.in/api/users?page=".concat(this.currentPage)).then((function(e){return e.json()})).then((function(t){Object(f.g)((function(){e.users=t.data,e.totalItems=t.total,e.perPage=t.per_page,e.totalPages=t.total_pages}))}))}}]),e}()),b=(n(18),n(0)),g=Object(o.a)((function(e){var t=e.name;return Object(b.jsx)("input",{className:"userForm-input",type:"text",placeholder:t,name:t,value:m.itemUser[t]||"",onChange:function(e){m.editUser(e.target.name,e.target.value)}})})),p=Object(o.a)((function(){return Object(b.jsxs)(b.Fragment,{children:[m.itemUser&&Object(b.jsx)("img",{src:m.itemUser.avatar||"",alt:""}),Object(b.jsx)(g,{name:"first_name"}),Object(b.jsx)(g,{name:"last_name"}),Object(b.jsx)(g,{name:"email"})]})})),O=(n(20),Object(o.a)((function(e){var t=e.openModalUser;return Object(b.jsx)(b.Fragment,{children:m.users.map((function(e){return Object(b.jsx)("div",{className:"grid-elem",onClick:function(){return t(e.id)},style:{backgroundImage:"url(".concat(e.avatar,")")},children:e.first_name},e.id)}))})}))),v=(n(21),function(e){var t=e.active,n=e.setActive,s=e.children;function r(e){m[e](),n(!1)}return Object(b.jsx)("div",{className:"modal "+(t?"active_modal":""),onMouseDown:function(){return n(!1)},children:Object(b.jsxs)("div",{className:"modal_content "+(t?"active_content":""),onMouseDown:function(e){return e.stopPropagation()},children:[Object(b.jsx)("div",{className:"wrap-button-close",children:Object(b.jsx)("button",{onClick:function(){return n(!1)},children:"x"})}),s,m.modalEditUser?Object(b.jsxs)("div",{className:"wrap-buttons-action",children:[Object(b.jsx)("button",{onClick:function(){return r("removeUser")},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(b.jsx)("button",{onClick:function(){return r("updateUser")},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):Object(b.jsx)("div",{className:"wrap-button-add",children:Object(b.jsx)("button",{className:"button-add",onClick:function(){return r("addUser")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})}),x=(n(22),Object(o.a)((function(){for(var e=[],t=1;t<=m.totalPages;t++)e.push(t);return Object(b.jsx)("nav",{children:Object(b.jsx)("ul",{className:"pagination",children:e.map((function(e){return Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("span",{className:"page-link",onClick:function(){return m.changePage(e)},children:e})},e)}))})})}))),U=(n(23),Object(o.a)((function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{className:"grid-container",children:[Object(b.jsx)(O,{openModalUser:function(e){m.getUser(e),m.modalEditUser=!0,r((function(e){return!e}))}}),Object(b.jsx)("div",{className:"grid-elem last",onClick:function(){return m.newUser(),m.modalEditUser=!1,void r((function(e){return!e}))},children:"+"})]}),Object(b.jsx)(x,{usersStore:m}),Object(b.jsx)(v,{active:n,setActive:r,children:Object(b.jsx)(p,{})})]})}))),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),k()}],[[24,1,2]]]);
//# sourceMappingURL=main.7997e8b0.chunk.js.map