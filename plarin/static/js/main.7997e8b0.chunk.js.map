{"version":3,"sources":["store/usersStore.js","components/userForm/userForm.js","components/userForm/index.js","components/users/index.js","components/users/users.js","components/modal/index.js","components/modal/modal.js","components/pagination/index.js","components/pagination/pagination.js","components/app/index.js","components/app/app.js","reportWebVitals.js","index.js"],"names":["users","totalItems","currentPage","perPage","totalPages","itemUser","avatar","first_name","last_name","email","modalEditUser","makeAutoObservable","this","getUserListByPage","fetch","method","body","JSON","stringify","headers","then","res","json","runInAction","push","id","filter","user","key","value","index","findIndex","a","ok","data","number","response","total","per_page","total_pages","Input","observer","name","className","type","placeholder","usersStore","onChange","event","editUser","target","UserForm","src","alt","Users","openModalUser","map","onClick","style","backgroundImage","Modal","active","setActive","children","actionUser","kay","onMouseDown","e","stopPropagation","Pagination","pageNumbers","i","changePage","App","useState","modalActiveUser","setModalActiveUser","getUser","prev","newUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7997e8b0.chunk.js","sourcesContent":["import { runInAction, makeAutoObservable } from 'mobx'\r\n\r\nclass UsersStore {\r\n  users = []\r\n  totalItems = 0\r\n  currentPage = 1 \r\n  perPage = 0\r\n  totalPages = 0\r\n  itemUser = {avatar: '', first_name: '', last_name: '', email: ''}\r\n  modalEditUser = false\r\n  constructor(){\r\n    makeAutoObservable(this)\r\n    this.getUserListByPage()\r\n  }\r\n  addUser() {\r\n    fetch('https://reqres.in/api/users', {\r\n      method: 'POST', \r\n      body: JSON.stringify(this.itemUser), \r\n      headers: {'Content-Type': 'application/json'}\r\n    })\r\n    .then(res => res.json())\r\n    .then(json => {\r\n      runInAction(()=>{\r\n        if (this.currentPage <= 2) {\r\n          this.users = []\r\n          this.currentPage = this.totalPages + 1\r\n          this.totalPages = this.totalPages + 1\r\n        }\r\n        this.users.push(json)\r\n      })\r\n    })\r\n  }\r\n  removeUser(){\r\n    fetch(`https://reqres.in/api/users/${this.itemUser.id}`, {\r\n      method: 'DELETE', \r\n    })\r\n    .then(() => {\r\n      runInAction(()=>{\r\n        this.users = this.users.filter(user => user.id !== this.itemUser.id)\r\n      })\r\n    })\r\n  }\r\n\r\n  editUser(key, value){\r\n    this.itemUser[key] = value\r\n  }\r\n\r\n  updateUser(){\r\n    fetch(`https://reqres.in/api/users/${this.itemUser.id}`, {\r\n      method: 'PUT', \r\n      body: JSON.stringify(this.itemUser), \r\n      headers: {'Content-Type': 'application/json'}\r\n    })\r\n    .then(res => res.json())\r\n    .then(json => {\r\n      const index = this.users.findIndex(user => user.id === this.itemUser.id)\r\n      runInAction(()=>{\r\n        if (index !== -1) this.users[index] = json\r\n      })\r\n    })\r\n  }\r\n\r\n  async getUser(id){\r\n    const res = await fetch(`https://reqres.in/api/users/${id}`)\r\n    if (res.ok){\r\n      const user = await res.json();  \r\n      runInAction(()=>{\r\n        this.itemUser = user.data;\r\n      })\r\n    } else {\r\n      const index = this.users.findIndex(user => user.id === id)\r\n      runInAction(()=>{\r\n        if (index !== -1) this.itemUser = this.users[index]\r\n      })\r\n    }\r\n  }\r\n\r\n  newUser() {\r\n    this.itemUser = {avatar: '', first_name: '', last_name: '', email: ''}\r\n  }\r\n\r\n  changePage(number){\r\n    this.currentPage = number\r\n    this.getUserListByPage()\r\n  }\r\n\r\n  getUserListByPage() {\r\n    fetch(`https://reqres.in/api/users?page=${this.currentPage}`)\r\n    .then(res=>res.json())\r\n    .then((response) => {\r\n      runInAction(()=>{\r\n        this.users = response.data;\r\n        this.totalItems = response.total;\r\n        this.perPage = response.per_page;\r\n        this.totalPages = response.total_pages;\r\n      })\r\n    }) \r\n  }\r\n}\r\n\r\nexport default new UsersStore()","import React from \"react\";\r\nimport { observer } from 'mobx-react-lite';\r\nimport usersStore from '../../store/usersStore';\r\nimport \"./userForm.scss\"\r\n\r\n\r\nconst Input = observer(({name}) => {\r\n  function onChange (event) {\r\n    usersStore.editUser(event.target.name, event.target.value)\r\n  }\r\n  return (\r\n    <input \r\n      className=\"userForm-input\"\r\n      type=\"text\" \r\n      placeholder={name} \r\n      name={name} \r\n      value={usersStore.itemUser[name] || ''}  \r\n      onChange={onChange} \r\n    />\r\n  )\r\n})\r\n\r\nconst UserForm = observer(() => (\r\n  <>\r\n    {usersStore.itemUser && <img src={usersStore.itemUser.avatar || ''} alt=''/>}\r\n    <Input name=\"first_name\" />\r\n    <Input name=\"last_name\" />\r\n    <Input name=\"email\" />\r\n  </>\r\n))\r\n\r\nexport default UserForm","import UserForm from \"./userForm\";\r\nexport default UserForm;","import Users from \"./users\";\r\nexport default Users;","import React from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport usersStore from \"../../store/usersStore\";\r\n\r\nimport \"./users.scss\";\r\n\r\nconst Users = observer(({openModalUser}) => (\r\n  <>\r\n    {usersStore.users.map((user) => (\r\n      <div \r\n        className=\"grid-elem\" \r\n        key={user.id}\r\n        onClick={() => openModalUser(user.id)}\r\n        style={{ \r\n          backgroundImage: `url(${user.avatar})`,\r\n        }}\r\n      >\r\n        {user.first_name}\r\n      </div>\r\n    ))}\r\n  </>\r\n))\r\n\r\nexport default Users","import Modal from \"./modal\";\r\nexport default Modal;","import React from \"react\";\r\nimport usersStore from '../../store/usersStore';\r\n\r\nimport './modal.scss';\r\n\r\nconst Modal = ({active, setActive, children}) => {\r\n  function actionUser(kay) {\r\n    usersStore[kay]()\r\n    setActive(false)\r\n  }\r\n  return (\r\n    <div className={\"modal \" + (active ? \"active_modal\" : \"\")} onMouseDown={()=>setActive(false)}>\r\n      <div className={\"modal_content \" + (active ? \"active_content\" : \"\")} onMouseDown={(e)=>e.stopPropagation()}>\r\n        <div className=\"wrap-button-close\">\r\n          <button onClick={()=>setActive(false)}>x</button>\r\n        </div>\r\n        {children}\r\n        {usersStore.modalEditUser\r\n        ? (\r\n          <div className=\"wrap-buttons-action\">\r\n            <button onClick={()=>actionUser(\"removeUser\")}>Удалить</button>\r\n            <button onClick={()=>actionUser(\"updateUser\")}>Сохранить</button>\r\n          </div>\r\n        )\r\n        : (\r\n          <div className=\"wrap-button-add\">\r\n            <button \r\n              className=\"button-add\"\r\n              onClick={()=>actionUser(\"addUser\")}\r\n            >Добавить</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal","import Pagination from \"./pagination\";\r\nexport default Pagination;","import React from \"react\";\r\nimport { observer } from 'mobx-react-lite';\r\nimport usersStore from '../../store/usersStore';\r\nimport \"./pagination.scss\"\r\n\r\nconst Pagination = observer(() => {\r\n  const pageNumbers = [];\r\n \r\n  for(let i = 1; i <= usersStore.totalPages; i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n        {pageNumbers.map(number=>(\r\n          <li key={number} className=\"page-item\" >\r\n            <span className=\"page-link\" onClick={()=>usersStore.changePage(number)}>{number}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  )\r\n})\r\n\r\nexport default Pagination","import App from \"./app\";\r\nexport default App;","import { useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\n\nimport usersStore from \"../../store/usersStore\";\nimport UserForm from \"../userForm\";\nimport Users from \"../users\";\nimport Modal from \"../modal\";\nimport Pagination from \"../pagination\";\n\nimport \"./app.scss\";\n\nconst App = observer(() => {\n  const [modalActiveUser, setModalActiveUser] = useState(false);\n  function openModalUser(id) {\n    usersStore.getUser(id)\n    usersStore.modalEditUser = true\n    setModalActiveUser((prev) => !prev)\n  }\n  function openModalAddUser() {\n    usersStore.newUser()\n    usersStore.modalEditUser = false\n    setModalActiveUser((prev) => !prev)\n  }\n  return (\n    <div className=\"App\">\n      <div className=\"grid-container\">\n        <Users openModalUser={openModalUser}/>\n        <div\n          className=\"grid-elem last\"\n          onClick={() => openModalAddUser((prev) => !prev)}\n        >+</div>\n      </div>\n      <Pagination usersStore={usersStore} />\n      <Modal active={modalActiveUser} setActive={setModalActiveUser}>\n        <UserForm />\n      </Modal>\n    </div>\n  );\n})\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/app';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}